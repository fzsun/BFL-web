<head>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>  
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="upload">
        <input type="file" @change="updateFile">
        <button @click="optimize">Optimize</button>
    </div>
</body>
<script>
new Vue({
    el: '#upload',
    data () {
        return {
            message: "vue working",
            selectedfile: null,
            response: null,
        }
    },
    methods: {
        updateFile(event){
            this.selectedfile = event.target.files[0];
        },
        optimize(event) {
            console.log("I'm trying")
            fd = new FormData();
            fd.append('optimizationInput', this.selectedfile, this.selectedfile.name);
            axios.post('http://localhost:5000/upload/', this.selectedfile).then(response => {
                this.response = response.data;
                console.log(this.response);
            })
        },
    }
})
</script>
